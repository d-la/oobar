<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->

<head>
    <meta charset="utf-8" />
    <title>Oo bar | Flushing Queens</title>
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="author" />

    <link rel="shortcut icon" type="image/png" href="img/the_one_favicon1.png"/>
    <!-- ================== BEGIN BASE CSS STYLE ================== -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
    <link href="/assets/plugins/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/assets/plugins/font-awesome/5.3/css/all.min.css" rel="stylesheet" />
    <link href="/assets/plugins/animate/animate.min.css" rel="stylesheet" />
    <link href="/assets/css/one-page-parallax/style.min.css" rel="stylesheet" />
    <link href="/assets/css/one-page-parallax/style-responsive.min.css" rel="stylesheet" />
    <link href="/assets/css/one-page-parallax/theme/default.css" id="theme" rel="stylesheet" />
    <!-- ================== END BASE CSS STYLE ================== -->

    <!-- Custom CSS -->
    <link href="/css/custom-styles.min.css" id="custom-styles" rel="stylesheet" />

    <!-- ================== BEGIN BASE JS ================== -->
    <script src="/assets/plugins/pace/pace.min.js"></script>
    <!-- ================== END BASE JS ================== -->
</head>

<body data-spy="scroll" data-target="#header" data-offset="51">
    <!-- begin #page-container -->
    <div id="page-container" class="fade">
        <!-- begin #header -->
        <div id="header" class="header navbar navbar-default navbar-fixed-top">
            <!-- begin container -->
            <div class="container">
                <!-- begin navbar-header -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#header-navbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="index.php" class="navbar-brand">
                        <!-- <span class="brand-logo"></span> -->
                        <span class="brand-text">
                            <!-- <span class="text-theme">Color</span> Admin -->
                            <img src="/img/oobar-logo.jpg" alt="Oobar Logo">
                        </span>
                    </a>
                </div>
                <!-- end navbar-header -->
                <!-- begin navbar-collapse -->
                <div class="collapse navbar-collapse" id="header-navbar">
                    <ul class="nav navbar-nav navbar-right">
                        <!-- <li class="nav-item dropdown">
                            <a class="nav-link active" href="#home" data-click="scroll-to-target" data-scroll-target="#home"
                                data-toggle="dropdown">HOME <b class="caret"></b></a>
                            <div class="dropdown-menu dropdown-menu-left animated fadeInDown">
                                <a class="dropdown-item" href="index.html">Page with Transparent Header</a>
                                <a class="dropdown-item" href="index_inverse_header.html">Page with Inverse Header</a>
                                <a class="dropdown-item" href="index_default_header.html">Page with White Header</a>
                                <a class="dropdown-item" href="extra_element.html">Extra Element</a>
                            </div>
                        </li> -->
                        <li class="nav-item"><a class="nav-link hover-theme-color" href="#about" data-click="scroll-to-target">ABOUT</a></li>
                        <li class="nav-item"><a class="nav-link hover-theme-color" href="#events" data-click="scroll-to-target">EVENTS</a></li>
                        <li class="nav-item"><a class="nav-link hover-theme-color" href="#contact" data-click="scroll-to-target">CONTACT</a></li>
                    </ul>
                </div>
                <!-- end navbar-collapse -->
            </div>
            <!-- end container -->
        </div>
        <!-- end #header -->

        <!-- begin #home -->
        <div id="home" class="content has-bg home">
            <!-- begin content-bg -->
            <div id="main-content" class="content-bg" style="background-image: url(/img/oobar-view.jpg);" data-paroller="true"
                data-paroller-factor="0.5" data-paroller-factor-xs="0.25">
            </div>
            <!-- end content-bg -->
            <!-- begin container -->
            <div class="container home-content">
                
            </div>
            <!-- end container -->
        </div>
        <!-- end #home -->

        <!-- begin #about -->
        <div id="about" class="content" data-scrollview="true">
            <!-- begin container -->
            <div class="container" data-animation="true" data-animation-type="fadeInDown">
                <h2 class="content-title">About Us</h2>
                <p class="content-desc">
                    Located on our 8th and 9th floor, Oo Bar and Lounge provides a trendy and upscale lounge for our guests. 
                    Here you will find all the luxuries of Manhattan, without the hassle of city transit. Enjoy divine appetizers 
                    and delicious cocktails in a gorgeous marble stone space, flooded with LED lights. No reservations are 
                    required for Oo Bar and Lounge. Head upstairs to our rooftop glass house to enjoy sweeping views of the 
                    Manhattan skyline or to cozy up at one of our handmade fire pits.

                    <br />
                    <br />
                    For access, please use the designated elevator located on the lobby floor.
                </p>
            </div>
            <!-- end container -->
        </div>
        <!-- end #about -->

        <!-- begin #milestone -->
        <div id="milestone" class="content bg-black-darker has-bg" data-scrollview="true">
            <!-- begin content-bg -->
            <div class="content-bg" style="background-image: url(/img/oobar-cocktails.jpg)" data-paroller="true"
                data-paroller-factor="0.5" data-paroller-factor-md="0.01" data-paroller-factor-xs="0.01"></div>
            <!-- end content-bg -->
            <!-- begin container -->
            <div class="container">
                <!-- begin row -->
                <div class="row">
                    <!-- begin col-3 -->
                    <div class="col-md-3 milestone-col">
                        <div class="milestone">
                            <div class="number" data-animation="true" data-animation-type="number" data-final-number="1292">1,292</div>
                            <div class="title">Themes & Template</div>
                        </div>
                    </div>
                    <!-- end col-3 -->
                    <!-- begin col-3 -->
                    <div class="col-md-3 milestone-col">
                        <div class="milestone">
                            <div class="number" data-animation="true" data-animation-type="number" data-final-number="9039">9,039</div>
                            <div class="title">Registered Members</div>
                        </div>
                    </div>
                    <!-- end col-3 -->
                    <!-- begin col-3 -->
                    <div class="col-md-3 milestone-col">
                        <div class="milestone">
                            <div class="number" data-animation="true" data-animation-type="number" data-final-number="89291">89,291</div>
                            <div class="title">Items Sold</div>
                        </div>
                    </div>
                    <!-- end col-3 -->
                    <!-- begin col-3 -->
                    <div class="col-md-3 milestone-col">
                        <div class="milestone">
                            <div class="number" data-animation="true" data-animation-type="number" data-final-number="129">129</div>
                            <div class="title">Theme Authors</div>
                        </div>
                    </div>
                    <!-- end col-3 -->
                </div>
                <!-- end row -->
            </div>
            <!-- end container -->
        </div>
        <!-- end #milestone -->

        <!-- begin #events -->
        <div id="events" class="content" data-scrollview="true">
            <!-- begin container -->
            <div class="container" data-animation="true" data-animation-type="fadeInDown">
                <h2 class="content-title">Upcoming Events</h2>
                <p class="content-desc">
                    <a href="calendar.php" class="color-black">View Calendar</a>
                </p>
                <!-- begin row -->
                <div class="row row-space-10">
                    <!-- begin col-3 -->
                    <div class="col-md-3 col-sm-6">
                        <!-- begin work -->
                        <div class="work">
                            <div class="image">
                                <a href="#"><img src="../assets/img/work/work-img-1.jpg" alt="Work 1" /></a>
                            </div>
                            <div class="desc">
                                <span class="desc-title">Aliquam molestie</span>
                                <span class="desc-text">Lorem ipsum dolor sit amet</span>
                            </div>
                        </div>
                        <!-- end work -->
                    </div>
                    <!-- end col-3 -->
                    <!-- begin col-3 -->
                    <div class="col-md-3 col-sm-6">
                        <!-- begin work -->
                        <div class="work">
                            <div class="image">
                                <a href="#"><img src="../assets/img/work/work-img-2.jpg" alt="Work 2" /></a>
                            </div>
                            <div class="desc">
                                <span class="desc-title">Quisque at pulvinar lacus</span>
                                <span class="desc-text">Lorem ipsum dolor sit amet</span>
                            </div>
                        </div>
                        <!-- end work -->
                    </div>
                    <!-- end col-3 -->
                    <!-- begin col-3 -->
                    <div class="col-md-3 col-sm-6">
                        <!-- begin work -->
                        <div class="work">
                            <div class="image">
                                <a href="#"><img src="../assets/img/work/work-img-3.jpg" alt="Work 3" /></a>
                            </div>
                            <div class="desc">
                                <span class="desc-title">Vestibulum et erat ornare</span>
                                <span class="desc-text">Lorem ipsum dolor sit amet</span>
                            </div>
                        </div>
                        <!-- end work -->
                    </div>
                    <!-- end col-3 -->
                    <!-- begin col-3 -->
                    <div class="col-md-3 col-sm-6">
                        <!-- begin work -->
                        <div class="work">
                            <div class="image">
                                <a href="#"><img src="../assets/img/work/work-img-4.jpg" alt="Work 4" /></a>
                            </div>
                            <div class="desc">
                                <span class="desc-title">Sed vitae mollis magna</span>
                                <span class="desc-text">Lorem ipsum dolor sit amet</span>
                            </div>
                        </div>
                        <!-- end work -->
                    </div>
                    <!-- end col-3 -->
                </div>
                <!-- end row -->
                <!-- begin row -->
                <div class="row row-space-10">
                    <!-- begin col-3 -->
                    <div class="col-md-3 col-sm-6">
                        <!-- begin work -->
                        <div class="work">
                            <div class="image">
                                <a href="#"><img src="../assets/img/work/work-img-5.jpg" alt="Work 5" /></a>
                            </div>
                            <div class="desc">
                                <span class="desc-title">Suspendisse at mattis odio</span>
                                <span class="desc-text">Lorem ipsum dolor sit amet</span>
                            </div>
                        </div>
                        <!-- end work -->
                    </div>
                    <!-- end col-3 -->
                    <!-- begin col-3 -->
                    <div class="col-md-3 col-sm-6">
                        <!-- begin work -->
                        <div class="work">
                            <div class="image">
                                <a href="#"><img src="../assets/img/work/work-img-6.jpg" alt="Work 6" /></a>
                            </div>
                            <div class="desc">
                                <span class="desc-title">Aliquam vitae commodo diam</span>
                                <span class="desc-text">Lorem ipsum dolor sit amet</span>
                            </div>
                        </div>
                        <!-- end work -->
                    </div>
                    <!-- end col-3 -->
                    <!-- begin col-3 -->
                    <div class="col-md-3 col-sm-6">
                        <!-- begin work -->
                        <div class="work">
                            <div class="image">
                                <a href="#"><img src="../assets/img/work/work-img-7.jpg" alt="Work 7" /></a>
                            </div>
                            <div class="desc">
                                <span class="desc-title">Phasellus eu vehicula lorem</span>
                                <span class="desc-text">Lorem ipsum dolor sit amet</span>
                            </div>
                        </div>
                        <!-- end work -->
                    </div>
                    <!-- end col-3 -->
                    <!-- begin col-3 -->
                    <div class="col-md-3 col-sm-6">
                        <!-- begin work -->
                        <div class="work">
                            <div class="image">
                                <a href="#"><img src="../assets/img/work/work-img-8.jpg" alt="Work 8" /></a>
                            </div>
                            <div class="desc">
                                <span class="desc-title">Morbi bibendum pellentesque</span>
                                <span class="desc-text">Lorem ipsum dolor sit amet</span>
                            </div>
                        </div>
                        <!-- end work -->
                    </div>
                    <!-- end col-3 -->
                </div>
                <!-- end row -->
            </div>
            <!-- end container -->
        </div>
        <!-- end #events -->

        <!-- begin #contact -->
        <div id="contact" class="content bg-silver-lighter" data-scrollview="true">
            <!-- begin container -->
            <div class="container">
                <h2 class="content-title">Contact Us</h2>
                <p class="content-desc">
                    For Event Inquiries or questions, please contact us through the form below.
                </p>
                <!-- begin row -->
                <div class="row">
                    <!-- begin col-6 -->
                    <div class="col-md-6" data-animation="true" data-animation-type="fadeInLeft">
                        <h3>For event inquiries or questions, please contact us through the form.</h3>
                        <p>
                            <strong>Oobar </strong><br />
                            137-72 Northern Blvd<br />
                            Flushing, New York 11354<br />
                            8th Floor <br />
                            P: (718) 886-3555<br />
                        </p>
                    </div>
                    <!-- end col-6 -->
                    <!-- begin col-6 -->
                    <div class="col-md-6 form-col" data-animation="true" data-animation-type="fadeInRight">
                        <form id="contact-submission" action="controllers/contact-submission.php" method="POST" class="form-horizontal">
                            <div id="firstName" class="form-group row m-b-15">
                                <div class="col-md-9">
                                    <input type="text" name="name" class="form-control" />
                                </div>
                            </div>
                            <div class="form-group row m-b-15">
                                <label class="col-form-label col-md-3 text-md-right">First Name <span class="text-theme">*</span></label>
                                <div class="col-md-9">
                                    <input type="text" name="firstName" class="form-control" />
                                </div>
                            </div>
                            <div class="form-group row m-b-15">
                                <label class="col-form-label col-md-3 text-md-right">Last Name <span class="text-theme">*</span></label>
                                <div class="col-md-9">
                                    <input type="text" name="lastName" class="form-control" />
                                </div>
                            </div>
                            <div class="form-group row m-b-15">
                                <label class="col-form-label col-md-3 text-md-right">Email <span class="text-theme">*</span></label>
                                <div class="col-md-9">
                                    <input type="email" name="email" class="form-control" />
                                </div>
                            </div>
                            <div class="form-group row m-b-15">
                                <label class="col-form-label col-md-3 text-md-right">Phone Number <span class="text-theme">*</span></label>
                                <div class="col-md-9">
                                    <span class="input-error" id="phone-number-error">Wrong format! Phone number must match 000-000-0000 format</span>
                                    <input type="text" name="phoneNumber" class="form-control" size="12" />
                                </div>
                            </div>
                            <div class="form-group row m-b-15">
                                <label class="col-form-label col-md-3 text-md-right">Message <span class="text-theme">*</span></label>
                                <div class="col-md-9">
                                    <textarea class="form-control" name="message" rows="10"></textarea>
                                </div>
                            </div>
                            <div class="form-group row m-b-15">
                                <label class="col-form-label col-md-3 text-md-right"></label>
                                <div class="col-md-9 text-left">
                                    <button type="submit" class="btn btn-theme btn-block">Send Message</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- end col-6 -->
                </div>
                <!-- end row -->
            </div>
            <!-- end container -->
        </div>
        <!-- end #contact -->

        <!-- begin #footer -->
        <div id="footer" class="footer footer--bg-white">
            <div class="container">
                <div class="footer-brand">
                    <!-- <div class="footer-brand-logo"></div> -->
                    <img src="/img/oobar-logo.jpg" alt="Oobar Logo" width="auto" height="40">
                    
                </div>
                <p>
                    &copy; Copyright 2017 Oobar
                </p>
                <p class="social-list">
                    <a href="https://www.facebook.com/Oobarlounge/" class="theme-color theme-color--hover-blk"><i class="fab fa-facebook-f fa-fw"></i></a>
                    <a href="https://www.instagram.com/oobarlounge/?hl=en" class="theme-color theme-color--hover-blk"><i class="fab fa-instagram fa-fw"></i></a>
                    <a href="https://twitter.com/oobarlounge" class="theme-color theme-color--hover-blk"><i class="fab fa-twitter fa-fw"></i></a>
                </p>
            </div>
        </div>
        <!-- end #footer -->
    </div>
    <!-- end #page-container -->

    <!-- ================== BEGIN BASE JS ================== -->
    <script src="/assets/plugins/jquery/jquery-3.3.1.min.js"></script>
    <script src="/assets/plugins/bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
    <!--[if lt IE 9]>
		<script src="/assets/crossbrowserjs/html5shiv.js"></script>
		<script src="/assets/crossbrowserjs/respond.min.js"></script>
		<script src="/assets/crossbrowserjs/excanvas.min.js"></script>
	<![endif]-->
    <script src="/assets/plugins/js-cookie/js.cookie.js"></script>
    <script src="/assets/plugins/scrollMonitor/scrollMonitor.js"></script>
    <script src="/assets/plugins/paroller/jquery.paroller.min.js"></script>
    <script src="/assets/js/one-page-parallax/apps.min.js"></script>
    <!-- ================== END BASE JS ================== -->

    <script>
        $('form#contact-submission').submit( (e) => {
            e.preventDefault();

            handleContactFormSubmission();
        });
        
        // TODO: Finish ajax submission and test form
        let handleContactFormSubmission = function(){
            let submitButton = $('button[type="submit"]');

            let contactData = {
                firstName: $('input[name="firstName"]').val(),
                lastName: $('input[name="lastName"').val(),
                email: $('input[type="email"]').val(),
                phoneNumber: $('input[name="phoneNumber"]').val(),
                message: $('textarea[name="message"]').val()
            };

            $.ajax({
                url: '/controllers/contact-submission.php',
                type: 'POST',
                data: contactData
            }).done( response => {
                let parsedResponse = JSON.parse(response);
                console.log(parsedResponse);

                if (parsedResponse.response == true){
                    $(submitButton).removeClass('btn-theme').addClass('btn-green').text('Message Sent!');
                } else {
                    $(submitButton).removeClass('btn-theme').addClass('btn-danger').text('Error sending message!');
                }

                clearFormValues();
                // Should this event happen? Does UX suffer? 
                // setTimeout(setSubmitButtonToDefault, 3000);

            }).fail( (response) => {
                $(submitButton).removeClass('btn-theme').addClass('btn-danger').text('Error sending message!');
            });
        };

        let clearFormValues = () => {
            let contactForm = $('form#contact-submission');
            
            $('form#contact-submission input, textarea').each(function(index){
                $(this).val('');
            });
        };

        let setSubmitButtonToDefault = () => {
            let submitButton = $('button[type="submit"');

            if ($(submitButton).hasClass('btn-danger')){
                $(submitButton).removeClass('btn-danger').addClass('btn-theme').text('Send Message');
            } else if ($(submitButton).hasClass('btn-green')){
                $(submitButton).removeClass('btn-green').addClass('btn-theme').text('Send Message');
            }
        };

        // Handle formatting the phone number correctly 
        $('input[name="phoneNumber"]').keyup(function() {
            $(this).val($(this).val().replace(/^(\d{3})(\d{3})(\d)+$/, "$1-$2-$3"));
        });

        // Check to make sure the phone numbers length isnt greater than 12. if it is show the error message 
        // before the user submits the form
        $('input[name="phoneNumber"]').on('propertychange change keyup input paste', () => {
            let phoneNumber = $('input[name="phoneNumber"]').val();

            if (phoneNumber.length > 12){
                $('span#phone-number-error').fadeIn();
            } else {
                $('span#phone-number-error').fadeOut();
            }
        });
    </script>

    <script>
        $(document).ready(function () {
            App.init();
        });
    </script>
</body>

</html>